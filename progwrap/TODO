TODO file for libsh

 - needs to be done
 / in progress
 X done
 I moved to issue tracker

Note that this is mostly out of date. Check the issue tracker instead.

BEFORE BETA:
 X lock/unlock variable nodes
 X cache pbuffer context in pbufferstreams
 X add ShFooCPtr typedefs everywhere (for RefCountable types)
 X rename ShRefCount to ShPointer or something else more useful
 I everywhere where we pass a ShFooPtr into a function, replace it with
   const ShFooPtr&
 I use ShFooCPtrs where appropriate
 I shUnbind() or something similar
 I shUpdate(), perhaps, maybe with an shAutoUpdate(bool) function
 I lock matrices
 I make immediate-mode matrix operations more efficient
 I missing library functions from the reference manual
 X use python to generate ShVector etc.
 X use python to generate ShAttrib, and be rid of implicit instantiation where aprpriate
 X replace ShConstant with ShConstAttrib, etc.
 X rename SpecialType -> SemanticType
 I mipmapping
 I ShInterp
 I finalize Quaternion interface

GENERIC SMALL TASKS:
 X have updating semantics for uniforms
 X need a map of shader kind -> currently bound shader
 X hack constant loading for now by recompiling shader everytime it is bound
 X hack constant loading for now by recompiling shader everytime a uniform is changed.
 X check into CVS
 X add additional layer for eror handling: don't throw exceptions by
   default, instead just output to stderr or so.
 I break and continue (requires some extra information in the parser)
 X gather variables in ShShader
 X simple SM register allocation
 X add negation to variables
 X compute uniform constant operations in the host
 X send uniform values to SM in the SM backend
 X add Swizzling operators to ShVariable
 X add Swizzling operators to ShVariableN
 X negation in SM backend code upload
 X store ShBackendCode objects in ShShader
 I replace assert() with exceptions/error function
 X add operator*(T) and similar for division to Sh{Lib*,Matrix}.hpp
 X add operator[] to ShAttrib also to do one-element swizzle.
 X use a ShVariableKind instead of an int template parameter in ShAttrib and ShMatrix
 X rename "shader kind" to "shader target" throughout the code.
 X replace integers for shader targets with strings
 X add ShIOVariable types as a single variable used for both Input and Output

GENERIC MEDIUM TASKS:
 X port more of the ShLib calls to the new model.
 X code generator
 X vectors, points, colours, positions, texcoords

OVERALL LARGE TASKS:
 X linear register allocator
 X finish the parser
 X begin the optimizer
 I matrices
 I textures
 I directx backend
 I Cg backend
 I get the SM backend back up to speed

OPTIMIZER:
 X control flow graph optimizations
 X Run the optimizations more than once as necessary.
 X Don't run the optimizer twice in connect(), once the previous item is done.

TRANSFORMER:
 X Replace inputs/outputs in computation & inouts when not supported by target

SHADER ALGEBRA:
 X fix combine() to operate correctly on empty graphs.
 X fix combine() to operate correctly on null programs
 X operator&() for combine()
 X replaceUniform()
 X add operator>> for uniform extraction
 X shPermute()
 X shExtract()
 X shDrop()
 X shKeep(), shLose(), shDup()
 X make connect work with inputs != outputs 
 X add operator<< for uniforms

STREAMS:
 X implement execute() for Arb
 I implement execute() for Sm
 X add ShChannelNode
 X add ShChannel
 X add ShStream
 X implement combine/connect operations

MATRICES:
 X operator()() extracts submatrix
 X operator[] extracts single row
 X operator{+,-,*,/}=
 X add matrix mults
 X adjunct
 X determinant
 X inverse

TEXTURES:
 X bind texture units in shader
 X scale lookups in SM backend
 X load data into textures
 X update notification
 I mip mapping
 X other lookup mechanisms (bilinear etc.)
 X generic traits mechanism
 X 1D
 X 3D
 X share textures between multiple shaders

ARB BACKEND:
 X split into multiple files

SM BACKEND:
 I fix it up. this is a lot of work.

=== OPERATIONS ===

+-----+-+
|L S S|A|
|i t M|R|
|b m  |B|
|  t  | |
|-+-+-+-+
|X|X|X|X| mul
|X|X|X|X| div
|X|X|X|X| add
|X|X|X|X| sub
|X|X|X|X| sqrt
|X|X|X|X| dot
|X|X|X|X| pow   TODO: vector x scalar
|X|X|X|X| frac
|X|X|X|X| sin
|X|X|X|X| cos
| | | | | tan
|X|X|X|/| <, <=, >, >=, ==, != TODO: These are, um, declared as N x 1. They should either be 1 x 1 or N x N.
|X|X|X|X| floor 
|X|X|X|X| ceil
|X|X| | | acos
|X|X| | | asin
| | | | | atan
|X|X|X|X| cross
|X|X|X|X| min
|X|X|X|X| max
| | | | | exp
| | | | | log
|X|X|X|X| fmod
|X|X|X|X| lerp
|X|X|X|X| mad
| | | | | rcp 
| | | | | rsqrt
|X|X|X|X| norm
|X|X|X|X| cond
|X|X| |X| kil
+-+-+-+-+

=== OLD RELEASES ===

RELEASE (SUMMER 2003):
 X rename ShShader to ShProgram
 X add SH_BEGIN_{VERTEX, FRAGMENT}_SHADER macros
 X add licensing blurbs
 X check for libpng in configure
 X check for SM/GL for the backends in configure
 X make sure "make install" works
 X dynamic backend loading
 X port to windows
 X swap around order for cubemaps
 X get an environment map
 X clean up demos
 X upload/bind split in Arb backend 
 X scalar constant operators
