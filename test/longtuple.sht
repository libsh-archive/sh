// -*- C++ -*-

//ShEnvironment::optimizationLevel = 0;
float c1val[] = { 0, -1, -2, -3, -4, -5, -6 };
ShConstant<7, float> c1( c1val );
ShProgram shader = SH_BEGIN_FRAGMENT_PROGRAM {
  ShInputAttrib1f SH_DECL(in); 
  ShOutputAttrib1f SH_DECL(out); 

  ShAttrib<6, SH_TEMP, float> SH_DECL(foo1);
  ShAttrib<6, SH_TEMP, float> SH_DECL(foo2);
  float c2val[] = { 0, 1, 2, 3, 4, 5, 6 }; 
  ShConstant<7, float> c2( c2val );

  int indices[] = {5, 4, 3, 2, 0, 1};
  foo1 = c1.swiz<6>(indices);
  foo2(0,2,4,5) = c2(0, 2, 4, 5); 
  foo2(1,3) = ShConstant2f(-1,-3);
  foo1 = foo1 + foo2;
  out = dot( foo1, foo2 ); 
} SH_END_PROGRAM;
